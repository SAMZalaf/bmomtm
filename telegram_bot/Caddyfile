# ============================================
# إعدادات Caddy Server
# انسخ هذا الملف إلى /etc/caddy/Caddyfile
# ============================================

:80 {
    # توجيه الطلبات إلى التطبيق
    reverse_proxy 127.0.0.1:5000
    
    # دعم WebSockets (مهم لـ Vite HMR)
    @websockets {
        header Upgrade websocket
    }
    reverse_proxy @websockets 127.0.0.1:5000
    
    # ضغط الملفات
    encode gzip
    
    # سجلات
    log {
        output file /var/log/caddy/access.log
    }
}
