# ููุฎุต ุฏูุฌ ุฎุฏูุฉ SMSPool

## ุงูุชุบููุฑุงุช ุงููููุฐุฉ โ

### 1. ุชุญุฏูุซ ุฏุงูุฉ handle_buy_numbers
**ุงูููู:** `bot.py` (ุงูุณุทุฑ ~17033)

**ุงูุชุนุฏูู:**
- ุชู ุชุญุฏูุซ ุงูุฏุงูุฉ ูุชูููุฑ ูุงุฆูุฉ ุงุฎุชูุงุฑ ุจูู NonVoip ู SMSPool
- ุฅุฐุง ูุงูุช ุฎุฏูุฉ ูุงุญุฏุฉ ููุท ูุชุงุญุฉุ ูุชู ูุชุญูุง ูุจุงุดุฑุฉ
- ุฅุฐุง ูุงูุช ููุง ุงูุฎุฏูุชูู ูุชุงุญุชููุ ูุชู ุนุฑุถ ูุงุฆูุฉ ุงุฎุชูุงุฑ ูุน ูุตู ููู ุฎุฏูุฉ

**ุงููููุฒุงุช:**
- โ ุงูุญูุงุธ ุงููุงูู ุนูู ุฎุฏูุฉ NonVoip ุงูููุฌูุฏุฉ
- โ ุฅุถุงูุฉ ุฎุฏูุฉ SMSPool ุฏูู ุฅุฒุงูุฉ ุฃู ูุธููุฉ ูุฏููุฉ
- โ ูุงุฌูุฉ ูุณุชุฎุฏู ุซูุงุฆูุฉ ุงููุบุฉ (ุนุฑุจู/ุฅูุฌููุฒู)
- โ ุงุฎุชูุงุฑ ุฐูู: ุฅุฐุง ูุงูุช ุฎุฏูุฉ ูุงุญุฏุฉ ููุท ููุนูุฉุ ูุชู ูุชุญูุง ูุจุงุดุฑุฉ

### 2. ุฅุถุงูุฉ ูุนุงูุฌุงุช Callbacks
**ุงูููู:** `bot.py` (ุงูุณุทุฑ ~6844)

**ุงููุนุงูุฌุงุช ุงููุถุงูุฉ:**
1. `numbers_service_nonvoip` - ููุชุญ ุฎุฏูุฉ NonVoip ุนูุฏ ุงุฎุชูุงุฑูุง ูู ุงููุงุฆูุฉ
2. `main_menu` - ููุนูุฏุฉ ุฅูู ุงููุงุฆูุฉ ุงูุฑุฆูุณูุฉ

**ุงููููุฒุงุช:**
- โ ูุนุงูุฌุฉ ุขููุฉ ููุฃุฎุทุงุก ูุน logging
- โ ุฏุนู ุซูุงุฆู ุงููุบุฉ
- โ ุชูุงูู ุณูุณ ูุน ุงูุจููุฉ ุงูููุฌูุฏุฉ

## ุงููููุงุช ุงูููุฌูุฏุฉ ูุณุจูุงู (ูู ุชูุนุฏู)

1. **smspool_service.py** โ
   - API ูุงููุฉ ููุชูุงููุฉ
   - ุฅุฏุงุฑุฉ ูุงุนุฏุฉ ุงูุจูุงูุงุช
   - Inline queries
   - Callbacks handlers

2. **ุฌุฏุงูู ูุงุนุฏุฉ ุงูุจูุงูุงุช** โ
   - `smspool_settings`
   - `smspool_orders`
   - `smspool_services_cache`

3. **ูุนุงูุฌุงุช ุงูุจูุช** โ
   - `CallbackQueryHandler` ููููุท `^sp_`
   - `handle_smspool_user_callbacks`
   - `smspool_admin_menu`

## ุฎุงุฑุทุฉ ุงูุชุฏูู

```
COINEX_PAYMENT_ANALYSIS.md Caddyfile CoinEx INSTALLATION_GUIDE.md QUICK_INSTALL.md README.md README_DEPLOY.md README_SERVER.md __pycache__ auto_payment.py bot.py bot_admin.py bot_customer.py bot_database.db bot_keyboards.py bot_utils.py config.py config_replit.py config_server.py dynamic_buttons.py dynamic_buttons_handler.py luxury_service.py miniapp.html miniapp_server.py nineproxy_service.py non_voip_unified.py premsocks_service.py proxy_bot.db proxy_bot.db-shm.corrupted proxy_bot.db-wal.corrupted proxy_bot.db.backup_20260202_140423 proxy_bot.db.corrupted requirements.txt requirementsfull.txt run.py smspool_service.py start_all.sh static stop_all.sh stop_services.sh templates web_ui EOF ูุถุบุท ุนูู "๐ฑ ุฃุฑูุงู Non-VoIP"
              โ
     handle_buy_numbers()
              โ
    โโโโโโโโโโโโโโโโโโโโโโโโโโโ
    โ  ูุญุต ุงูุฎุฏูุงุช ุงููุชุงุญุฉ   โ
    โโโโโโโโโโโโโโโโโโโโโโโโโโโ
              โ
    โโโโโโโโโโโโโโโโโโโโโโโโโโโ
    โ NonVoip ููุทุ           โ โโโ ูุนู โโโ ูุชุญ NonVoip ูุจุงุดุฑุฉ
    โโโโโโโโโโโโโโโโโโโโโโโโโโโ
              โ ูุง
    โโโโโโโโโโโโโโโโโโโโโโโโโโโ
    โ SMSPool ููุทุ          โ โโโ ูุนู โโโ ูุชุญ SMSPool ูุจุงุดุฑุฉ
    โโโโโโโโโโโโโโโโโโโโโโโโโโโ
              โ ูุง
    โโโโโโโโโโโโโโโโโโโโโโโโโโโ
    โ   ุนุฑุถ ูุงุฆูุฉ ุงุฎุชูุงุฑ     โ
    โ  ๐บ๐ธ NonVoip            โ
    โ  ๐ SMSPool             โ
    โ  ๐ ุฑุฌูุน               โ
    โโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

## ุงุฎุชุจุงุฑุงุช ุงูุฃูุงู โ

### NonVoip (ุงูุฎุฏูุฉ ุงููุฏููุฉ)
- โ ูุง ุชุนุฏููุงุช ุนูู `non_voip_unified.py`
- โ ูุง ุชุนุฏููุงุช ุนูู ุฌุฏุงูู `nonvoip_*`
- โ ุงููุนุงูุฌุงุช ุงููุฏููุฉ ุชุนูู ููุง ูู
- โ ุงูุจูุงูุงุช ุงููุฏููุฉ ูุญููุธุฉ 100%

### SMSPool (ุงูุฎุฏูุฉ ุงูุฌุฏูุฏุฉ)
- โ ุฌุฏุงูู ูููุตูุฉ ุชูุงูุงู (`smspool_*`)
- โ ูุนุงูุฌุงุช ูููุตูุฉ (`sp_*`)
- โ ูุง ุชุฃุซูุฑ ุนูู NonVoip

## ุฎุทูุงุช ุงูุฅุนุฏุงุฏ ูููุณุคูู

### 1. ุฅุนุฏุงุฏ SMSPool
1. ุงูุญุตูู ุนูู API Key ูู: https://www.smspool.net/my/settings
2. ูุชุญ ููุญุฉ ุงูุฃุฏูู ูู ุงูุจูุช
3. ุงุฎุชูุงุฑ "๐ฑ ุฅุฏุงุฑุฉ SMSPool (ุฃุฑูุงู SMS)"
4. ุฅุฏุฎุงู API Key
5. ุชุนุฏูู ูุณุจุฉ ุงูุฑุจุญ (ุงุฎุชูุงุฑู)
6. ุชูุนูู/ุชุนุทูู ุงูุฎุฏูุฉ

### 2. ุงูุชุญูู ูู ุงูุฎุฏูุงุช
- **ุชุนุทูู NonVoip ููุท**: ุณูุนูู SMSPool ููุญุฏู
- **ุชุนุทูู SMSPool ููุท**: ุณูุนูู NonVoip ููุญุฏู
- **ุชูุนูู ุงูุงุซููู**: ุณูุธูุฑ ูููุณุชุฎุฏู ูุงุฆูุฉ ุงุฎุชูุงุฑ
- **ุชุนุทูู ุงูุงุซููู**: ุฑุณุงูุฉ "ุงูุฎุฏูุฉ ุบูุฑ ูุชุงุญุฉ"

## ุงูููุฒุงุช ุงูุฌุฏูุฏุฉ ูููุณุชุฎุฏููู

### ุนูุฏ ุงุฎุชูุงุฑ SMSPool:
1. **ุงุฎุชูุงุฑ ุงูุฏููุฉ** - ุฌููุน ุงูุฏูู ุงููุฏุนููุฉ ูู SMSPool
2. **ุงุฎุชูุงุฑ ุงูุฎุฏูุฉ** - WhatsApp, Telegram, Google, ุฅูุฎ
3. **ุดุฑุงุก ุงูุฑูู** - ุฎุตู ููุฑู ูู ุงูุฑุตูุฏ
4. **ุงุณุชูุงู ุงูุฑุณุงูุฉ** - ุชููุงุฆู ูุน ุฅุดุนุงุฑ
5. **ุงูุฃุฑูุงู ุงููุดุทุฉ** - ุนุฑุถ ุฌููุน ุงูุฃุฑูุงู ุงูุญุงููุฉ
6. **ุงูุณุฌู** - ุณุฌู ูุงูู ููุนูููุงุช

### ุงูุฃุณุนุงุฑ:
- ุณุนุฑ ุงูุชูููุฉ ูู SMSPool + ูุณุจุฉ ุงูุฑุจุญ ุงููุญุฏุฏุฉ ูู ุงูุฃุฏูู
- ุนุฑุถ ูุงุถุญ ููุณุนุฑ ูุจู ุงูุชุฃููุฏ
- ูุญุต ุงูุฑุตูุฏ ูุจู ุงูุดุฑุงุก

## ุงููููุงุช ุงููุนุฏูุฉ

1. `bot.py` (ุชุนุฏููุงุช ุจุณูุทุฉ ูุขููุฉ):
   - ุฏุงูุฉ `handle_buy_numbers()` ูุญุฏูุซุฉ
   - ูุนุงูุฌู callback ุฌุฏูุฏูู

2. ุงููุณุฎ ุงูุงุญุชูุงุทูุฉ:
   - `proxy_bot.db.backup_YYYYMMDD_HHMMSS`

## ุงูุชูุงูู

- โ ูุชูุงูู ูุน Python 3.7+
- โ ูุชูุงูู ูุน python-telegram-bot 20.x
- โ ูุง ุชุนุงุฑุถุงุช ูุน ุงูุฎุฏูุงุช ุงูููุฌูุฏุฉ
- โ ูุง ุชุบููุฑุงุช ูุณุฑูุฉ (breaking changes)

## ุงูุฏุนู ุงูููู

 ุฃู ุงูุฅุจูุงุบ ุนู ูุดุงูู:
- ุฑุงุฌุน `smspool_service.py` ููุชูุงุตูู ุงูุชูููุฉ
- ูุญุต logs ุงูุจูุช ููุฃุฎุทุงุก
- ุงูุชุฃูุฏ ูู ุตุญุฉ API Key ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช

---

**ุชุงุฑูุฎ ุงูุฏูุฌ:** $(date '+%Y-%m-%d %H:%M:%S')
**ุงูุฅุตุฏุงุฑ:** 1.0.0
**ุงูุญุงูุฉ:** ููุชูู ูุฌุงูุฒ ููุงุณุชุฎุฏุงู โ
